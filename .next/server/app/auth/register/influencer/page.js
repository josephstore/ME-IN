(()=>{var e={};e.id=333,e.ids=[333],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},6231:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>c.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>o}),s(2395),s(3361),s(5866);var a=s(3191),t=s(8716),l=s(7922),c=s.n(l),i=s(5231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);s.d(r,n);let o=["",{children:["auth",{children:["register",{children:["influencer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2395)),"C:\\Users\\mark\\Documents\\ME-IN\\app\\auth\\register\\influencer\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3361)),"C:\\Users\\mark\\Documents\\ME-IN\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\mark\\Documents\\ME-IN\\app\\auth\\register\\influencer\\page.tsx"],u="/auth/register/influencer/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/auth/register/influencer/page",pathname:"/auth/register/influencer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6313:(e,r,s)=>{Promise.resolve().then(s.bind(s,7254))},7254:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>b});var a=s(326),t=s(7577),l=s(5047),c=s(7939),i=s(2437),n=s(5932);let o=(0,s(2881).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var d=s(9635),u=s(3855),m=s(4738),p=s(4019),g=s(1215);let x=(0,c.eI)("https://jltnvoyjnzlswsmddojf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpsdG52b3lqbnpsc3dzbWRkb2pmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzODk5MjQsImV4cCI6MjA3MDk2NTkyNH0.5blt8JeShSgBA50l5bcE30Um1nGlYJAl685XBdVrqdg"),f=["뷰티","패션","푸드","여행","테크","게임","라이프스타일","교육","비즈니스","엔터테인먼트"],h=["한국어","영어","일본어","중국어","아랍어","스페인어","프랑스어","독일어"],y=["서울","부산","대구","인천","광주","대전","울산","세종","경기","강원","충북","충남","전북","전남","경북","경남","제주"];function b(){let e=(0,l.useRouter)(),[r,s]=(0,t.useState)(!1),[c,b]=(0,t.useState)(1),[j,v]=(0,t.useState)({email:"",password:"",confirmPassword:"",displayName:"",bio:"",phone:"",website:"",languages:[],timezone:"Asia/Seoul",location:"",contentCategories:[],targetAudience:"",collaborationHistory:"",preferredBrands:[],availability:"",rateCard:{instagram:{price:"",followers:""},youtube:{price:"",subscribers:""},tiktok:{price:"",followers:""},blog:{price:"",monthlyViews:""}},socialAccounts:[]}),[w,N]=(0,t.useState)({}),k=(e,r)=>{v(s=>({...s,[e]:r})),w[e]&&N(r=>({...r,[e]:""}))},_=(e,r,s)=>{v(a=>({...a,[e]:"add"===s?[...a[e],r]:a[e].filter(e=>e!==r)}))},C=(e,r,s)=>{v(a=>({...a,socialAccounts:a.socialAccounts.map((a,t)=>t===e?{...a,[r]:s}:a)}))},P=e=>{v(r=>({...r,socialAccounts:r.socialAccounts.filter((r,s)=>s!==e)}))},A=e=>{let r={};return 1===e&&(j.email||(r.email="이메일을 입력해주세요"),j.password||(r.password="비밀번호를 입력해주세요"),j.password!==j.confirmPassword&&(r.confirmPassword="비밀번호가 일치하지 않습니다"),j.password.length<6&&(r.password="비밀번호는 최소 6자 이상이어야 합니다")),2===e&&(j.displayName||(r.displayName="닉네임을 입력해주세요"),j.bio||(r.bio="자기소개를 입력해주세요"),0===j.languages.length&&(r.languages="언어를 선택해주세요")),3!==e||(0===j.contentCategories.length&&(r.contentCategories="콘텐츠 카테고리를 선택해주세요"),j.targetAudience||(r.targetAudience="타겟 오디언스를 입력해주세요")),4===e&&0===j.socialAccounts.length&&(r.socialAccounts="최소 하나의 소셜 미디어 계정을 추가해주세요"),N(r),0===Object.keys(r).length},I=async()=>{if(A(c)){s(!0);try{let{data:r,error:s}=await x.auth.signUp({email:j.email,password:j.password,options:{data:{user_type:"influencer",display_name:j.displayName}}});if(s)throw s;if(r.user){let s=await i.H.createUserProfile({user_id:r.user.id,user_type:"influencer",display_name:j.displayName,bio:j.bio,phone:j.phone,website:j.website,languages:j.languages,timezone:j.timezone,location:j.location});if(!s.data)throw Error("사용자 프로필 생성에 실패했습니다.");for(let e of(await i.H.createInfluencerProfile({user_profile_id:s.data.id,content_categories:j.contentCategories,target_audience:j.targetAudience,collaboration_history:j.collaborationHistory,preferred_brands:j.preferredBrands,availability:j.availability,rate_card:j.rateCard}),j.socialAccounts))await i.H.addSocialAccount({user_profile_id:s.data.id,platform:e.platform,username:e.username,followers:e.followers,engagement_rate:e.engagement_rate,avg_views:e.avg_views,url:e.url});alert("인플루언서 등록이 완료되었습니다!"),e.push("/dashboard/influencers")}}catch(e){console.error("Registration error:",e),alert("등록 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{s(!1)}}};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${c>=e?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"}`,children:e}),e<4&&a.jsx("div",{className:`w-16 h-1 mx-2 ${c>e?"bg-primary-600":"bg-gray-200"}`})]},e))}),(0,a.jsxs)("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[a.jsx("span",{children:"계정 정보"}),a.jsx("span",{children:"기본 프로필"}),a.jsx("span",{children:"인플루언서 정보"}),a.jsx("span",{children:"소셜 미디어"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"인플루언서 등록"}),a.jsx("p",{className:"text-gray-600",children:"ME-IN 플랫폼에서 브랜드와 협업하세요"})]}),1===c&&(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"계정 정보"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이메일"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"email",value:j.email,onChange:e=>k("email",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"your@email.com"})]}),w.email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.email})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"password",value:j.password,onChange:e=>k("password",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"최소 6자 이상"})]}),w.password&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.password})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호 확인"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"password",value:j.confirmPassword,onChange:e=>k("confirmPassword",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"비밀번호 재입력"})]}),w.confirmPassword&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.confirmPassword})]})]}),2===c&&(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"기본 프로필"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"닉네임 *"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx("input",{type:"text",value:j.displayName,onChange:e=>k("displayName",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"닉네임을 입력하세요"})]}),w.displayName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.displayName})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"자기소개 *"}),a.jsx("textarea",{value:j.bio,onChange:e=>k("bio",e.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"자신을 소개해주세요..."}),w.bio&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.bio})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"연락처"}),a.jsx("input",{type:"tel",value:j.phone,onChange:e=>k("phone",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"010-1234-5678"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"웹사이트"}),a.jsx("input",{type:"url",value:j.website,onChange:e=>k("website",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://your-website.com"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"사용 언어 *"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:h.map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:j.languages.includes(e),onChange:r=>_("languages",e,r.target.checked?"add":"remove"),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:e})]},e))}),w.languages&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.languages})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"활동 지역"}),(0,a.jsxs)("select",{value:j.location,onChange:e=>k("location",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"지역을 선택하세요"}),y.map(e=>a.jsx("option",{value:e,children:e},e))]})]})]}),3===c&&(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"인플루언서 정보"}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"콘텐츠 카테고리 *"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:f.map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:j.contentCategories.includes(e),onChange:r=>_("contentCategories",e,r.target.checked?"add":"remove"),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:e})]},e))}),w.contentCategories&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.contentCategories})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"타겟 오디언스 *"}),a.jsx("textarea",{value:j.targetAudience,onChange:e=>k("targetAudience",e.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"주요 팔로워층을 설명해주세요 (예: 20-30대 여성, 뷰티에 관심 있는 직장인)"}),w.targetAudience&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.targetAudience})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"협업 이력"}),a.jsx("textarea",{value:j.collaborationHistory,onChange:e=>k("collaborationHistory",e.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"이전 브랜드 협업 경험을 간단히 설명해주세요"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"선호 브랜드"}),a.jsx("input",{type:"text",value:j.preferredBrands.join(", "),onChange:e=>k("preferredBrands",e.target.value.split(",").map(e=>e.trim())),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"협업하고 싶은 브랜드명을 쉼표로 구분하여 입력"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"협업 가능 시간"}),a.jsx("textarea",{value:j.availability,onChange:e=>k("availability",e.target.value),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"협업 가능한 시간대나 요일을 알려주세요"})]})]}),4===c&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"소셜 미디어 계정"}),(0,a.jsxs)("button",{type:"button",onClick:()=>{v(e=>({...e,socialAccounts:[...e.socialAccounts,{platform:"",username:"",followers:0,engagement_rate:0,avg_views:0,url:""}]}))},className:"flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:[a.jsx(u.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"계정 추가"})]})]}),0===j.socialAccounts.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx(m.Z,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-600",children:"소셜 미디어 계정을 추가해주세요"})]}):a.jsx("div",{className:"space-y-4",children:j.socialAccounts.map((e,r)=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"font-medium text-gray-900",children:["계정 ",r+1]}),a.jsx("button",{type:"button",onClick:()=>P(r),className:"text-red-500 hover:text-red-700",children:a.jsx(p.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"플랫폼"}),(0,a.jsxs)("select",{value:e.platform,onChange:e=>C(r,"platform",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"플랫폼 선택"}),a.jsx("option",{value:"instagram",children:"Instagram"}),a.jsx("option",{value:"youtube",children:"YouTube"}),a.jsx("option",{value:"tiktok",children:"TikTok"}),a.jsx("option",{value:"blog",children:"Blog"}),a.jsx("option",{value:"twitter",children:"Twitter"}),a.jsx("option",{value:"facebook",children:"Facebook"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사용자명"}),a.jsx("input",{type:"text",value:e.username,onChange:e=>C(r,"username",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"@username"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"팔로워 수"}),a.jsx("input",{type:"number",value:e.followers,onChange:e=>C(r,"followers",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"10000"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"평균 조회수"}),a.jsx("input",{type:"number",value:e.avg_views||0,onChange:e=>C(r,"avg_views",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"5000"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"평균 참여율 (%)"}),a.jsx("input",{type:"number",step:"0.1",value:e.engagement_rate,onChange:e=>C(r,"engagement_rate",parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"3.5"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계정 URL"}),a.jsx("input",{type:"url",value:e.url,onChange:e=>C(r,"url",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://instagram.com/username"})]})]})]},r))}),w.socialAccounts&&a.jsx("p",{className:"text-red-500 text-sm",children:w.socialAccounts})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-8",children:[a.jsx("button",{type:"button",onClick:()=>{b(c-1)},disabled:1===c,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"이전"}),a.jsx("div",{className:"flex space-x-4",children:c<4?a.jsx("button",{type:"button",onClick:()=>{A(c)&&b(c+1)},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"다음"}):a.jsx("button",{type:"button",onClick:I,disabled:r,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:r?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"처리 중..."})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(g.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"등록 완료"})]})})})]})]})]})})}},2437:(e,r,s)=>{"use strict";s.d(r,{H:()=>t});var a=s(5442);class t{static async createUserProfile(e){try{let{data:{user:r}}=await a.O.auth.getUser();if(!r)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:s,error:t}=await a.O.from("user_profiles").insert(e).select().single();if(t)return{data:null,error:t.message,success:!1};return{data:s,error:null,success:!0}}catch(e){return{data:null,error:"프로필 생성 중 오류가 발생했습니다.",success:!1}}}static async getUserProfile(){try{let{data:{user:e}}=await a.O.auth.getUser();if(!e)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:r,error:s}=await a.O.from("user_profiles").select("*").eq("user_id",e.id).single();if(s)return{data:null,error:s.message,success:!1};return{data:r,error:null,success:!0}}catch(e){return{data:null,error:"프로필 조회 중 오류가 발생했습니다.",success:!1}}}static async updateUserProfile(e){try{let{data:{user:r}}=await a.O.auth.getUser();if(!r)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:s,error:t}=await a.O.from("user_profiles").update(e).eq("user_id",r.id).select().single();if(t)return{data:null,error:t.message,success:!1};return{data:s,error:null,success:!0}}catch(e){return{data:null,error:"프로필 업데이트 중 오류가 발생했습니다.",success:!1}}}static async createBrandProfile(e){try{let r=await this.getUserProfile();if(!r.success||!r.data)return{data:null,error:"사용자 프로필을 먼저 생성해주세요.",success:!1};let{data:s,error:t}=await a.O.from("brand_profiles").insert({user_profile_id:r.data.id,...e}).select().single();if(t)return{data:null,error:t.message,success:!1};return{data:s,error:null,success:!0}}catch(e){return{data:null,error:"브랜드 프로필 생성 중 오류가 발생했습니다.",success:!1}}}static async getBrandProfile(){try{let e=await this.getUserProfile();if(!e.success||!e.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:r,error:s}=await a.O.from("brand_profiles").select("*").eq("user_profile_id",e.data.id).single();if(s)return{data:null,error:s.message,success:!1};return{data:r,error:null,success:!0}}catch(e){return{data:null,error:"브랜드 프로필 조회 중 오류가 발생했습니다.",success:!1}}}static async updateBrandProfile(e){try{let r=await this.getUserProfile();if(!r.success||!r.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:s,error:t}=await a.O.from("brand_profiles").update(e).eq("user_profile_id",r.data.id).select().single();if(t)return{data:null,error:t.message,success:!1};return{data:s,error:null,success:!0}}catch(e){return{data:null,error:"브랜드 프로필 업데이트 중 오류가 발생했습니다.",success:!1}}}static async createInfluencerProfile(e){try{let r=await this.getUserProfile();if(!r.success||!r.data)return{data:null,error:"사용자 프로필을 먼저 생성해주세요.",success:!1};let{data:s,error:t}=await a.O.from("influencer_profiles").insert(e).select().single();if(t)return{data:null,error:t.message,success:!1};return{data:s,error:null,success:!0}}catch(e){return{data:null,error:"인플루언서 프로필 생성 중 오류가 발생했습니다.",success:!1}}}static async getInfluencerProfile(){try{let e=await this.getUserProfile();if(!e.success||!e.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:r,error:s}=await a.O.from("influencer_profiles").select("*").eq("user_profile_id",e.data.id).single();if(s)return{data:null,error:s.message,success:!1};return{data:r,error:null,success:!0}}catch(e){return{data:null,error:"인플루언서 프로필 조회 중 오류가 발생했습니다.",success:!1}}}static async updateInfluencerProfile(e){try{let r=await this.getUserProfile();if(!r.success||!r.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:s,error:t}=await a.O.from("influencer_profiles").update(e).eq("user_profile_id",r.data.id).select().single();if(t)return{data:null,error:t.message,success:!1};return{data:s,error:null,success:!0}}catch(e){return{data:null,error:"인플루언서 프로필 업데이트 중 오류가 발생했습니다.",success:!1}}}static async addSocialAccount(e){try{let r=await this.getInfluencerProfile();if(!r.success||!r.data)return{data:null,error:"인플루언서 프로필을 먼저 생성해주세요.",success:!1};let{data:s,error:t}=await a.O.from("social_accounts").insert({influencer_profile_id:r.data.id,...e}).select().single();if(t)return{data:null,error:t.message,success:!1};return{data:s,error:null,success:!0}}catch(e){return{data:null,error:"소셜 계정 추가 중 오류가 발생했습니다.",success:!1}}}static async getSocialAccounts(){try{let e=await this.getInfluencerProfile();if(!e.success||!e.data)return{data:null,error:"인플루언서 프로필을 찾을 수 없습니다.",success:!1};let{data:r,error:s}=await a.O.from("social_accounts").select("*").eq("influencer_profile_id",e.data.id);if(s)return{data:null,error:s.message,success:!1};return{data:r,error:null,success:!0}}catch(e){return{data:null,error:"소셜 계정 조회 중 오류가 발생했습니다.",success:!1}}}static async updateSocialAccount(e,r){try{let{data:s,error:t}=await a.O.from("social_accounts").update(r).eq("id",e).select().single();if(t)return{data:null,error:t.message,success:!1};return{data:s,error:null,success:!0}}catch(e){return{data:null,error:"소셜 계정 업데이트 중 오류가 발생했습니다.",success:!1}}}static async deleteSocialAccount(e){try{let{error:r}=await a.O.from("social_accounts").delete().eq("id",e);if(r)return{data:null,error:r.message,success:!1};return{data:null,error:null,success:!0}}catch(e){return{data:null,error:"소셜 계정 삭제 중 오류가 발생했습니다.",success:!1}}}static async getCompleteProfile(){try{let e,r,s;let a=await this.getUserProfile();if(!a.success||!a.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let t=a.data;if("brand"===t.user_type){let r=await this.getBrandProfile();r.success&&(e=r.data||void 0)}else if("influencer"===t.user_type){let e=await this.getInfluencerProfile();e.success&&(r=e.data||void 0);let a=await this.getSocialAccounts();a.success&&(s=a.data||void 0)}return{data:{userProfile:t,brandProfile:e,influencerProfile:r,socialAccounts:s},error:null,success:!0}}catch(e){return{data:null,error:"프로필 조회 중 오류가 발생했습니다.",success:!1}}}}},4738:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});let a=(0,s(2881).Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},3855:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});let a=(0,s(2881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1215:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});let a=(0,s(2881).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9635:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});let a=(0,s(2881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4019:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});let a=(0,s(2881).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2395:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\mark\Documents\ME-IN\app\auth\register\influencer\page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[809,644],()=>s(6231));module.exports=a})();