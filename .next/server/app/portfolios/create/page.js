(()=>{var e={};e.id=849,e.ids=[849],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8883:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>o}),r(5417),r(3361),r(5866);var s=r(3191),a=r(8716),l=r(7922),i=r.n(l),d=r(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);r.d(t,n);let o=["",{children:["portfolios",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5417)),"C:\\Users\\mark\\Documents\\ME-IN\\app\\portfolios\\create\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3361)),"C:\\Users\\mark\\Documents\\ME-IN\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\mark\\Documents\\ME-IN\\app\\portfolios\\create\\page.tsx"],x="/portfolios/create/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/portfolios/create/page",pathname:"/portfolios/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8241:(e,t,r)=>{Promise.resolve().then(r.bind(r,4744))},4744:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(326),a=r(7577),l=r(5047),i=r(7939),d=r(3678);r(2437);var n=r(6333),o=r(1215),c=r(765),x=r(4019),m=r(3685),p=r(1896),u=r(9758),g=r(6283),h=r(8091),b=r(3855);let f=(0,i.eI)("https://jltnvoyjnzlswsmddojf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpsdG52b3lqbnpsc3dzbWRkb2pmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzODk5MjQsImV4cCI6MjA3MDk2NTkyNH0.5blt8JeShSgBA50l5bcE30Um1nGlYJAl685XBdVrqdg"),y=["패션/뷰티","푸드/요리","여행/라이프스타일","테크/가전","게임/엔터테인먼트","교육/지식","건강/피트니스","패러디/유머","뷰티/메이크업","육아/가족","반려동물","기타"];function j(){let e=(0,l.useRouter)(),[t,r]=(0,a.useState)(null),[i,j]=(0,a.useState)(null),[N,v]=(0,a.useState)(null),[w,k]=(0,a.useState)(!0),[_,C]=(0,a.useState)(!1),[M,Z]=(0,a.useState)({title:"",title_en:"",title_ar:"",description:"",description_en:"",description_ar:"",category:"",is_public:!0,featured:!1}),[I,S]=(0,a.useState)([]),[E,P]=(0,a.useState)(""),[q,U]=(0,a.useState)([]),[$,z]=(0,a.useState)([]),[A,J]=(0,a.useState)({}),D=(e,t)=>{Z(r=>({...r,[e]:t})),A[e]&&J(t=>({...t,[e]:""}))},G=()=>{E.trim()&&!I.includes(E.trim())&&(S(e=>[...e,E.trim()]),P(""))},O=e=>{S(t=>t.filter(t=>t!==e))},X=e=>{U(t=>t.filter(t=>t.id!==e))},H=(e,t,r)=>{U(s=>s.map(s=>s.id===e?{...s,[t]:r}:s))},R=(e,t,r)=>{z(s=>s.map(s=>s.id===e?{...s,[t]:r}:s))},V=e=>{z(t=>t.filter(t=>t.id!==e))},B=()=>{let e={};return M.title.trim()||(e.title="제목을 입력해주세요"),M.category||(e.category="카테고리를 선택해주세요"),M.description.trim()||(e.description="설명을 입력해주세요"),J(e),0===Object.keys(e).length},F=async()=>{let e=[];for(let r of q)try{let s=r.file.name.split(".").pop(),a=`${Date.now()}-${Math.random().toString(36).substr(2,9)}.${s}`,l=`portfolios/${t?.id}/${a}`,{data:i,error:d}=await f.storage.from("media").upload(l,r.file);if(d)throw d;let{data:{publicUrl:n}}=f.storage.from("media").getPublicUrl(l);e.push(n)}catch(e){throw console.error("Error uploading file:",e),Error(`파일 업로드 실패: ${r.file.name}`)}return e},T=async()=>{if(B()){if(!N){alert("인플루언서 프로필이 필요합니다.");return}C(!0);try{let t=await F(),r=$.reduce((e,t)=>(t.platform&&t.url&&(e[t.platform]={url:t.url,title:t.title}),e),{}),s={influencer_profile_id:N.id,title:M.title,title_en:M.title_en||void 0,title_ar:M.title_ar||void 0,description:M.description,description_en:M.description_en||void 0,description_ar:M.description_ar||void 0,category:M.category,media_urls:t,external_links:r,tags:I,is_public:M.is_public,featured:M.featured},a=await d.M.createPortfolio(s);a.success?(alert("포트폴리오가 성공적으로 생성되었습니다!"),e.push("/portfolios")):alert(`포트폴리오 생성 실패: ${a.error}`)}catch(e){console.error("Error creating portfolio:",e),alert(`포트폴리오 생성 중 오류가 발생했습니다: ${e instanceof Error?e.message:"Unknown error"}`)}finally{C(!1)}}};return w?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"로딩 중..."})]})}):N?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e.back(),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(n.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"포트폴리오 등록"}),s.jsx("p",{className:"text-gray-600",children:"당신의 창작물을 보여주세요"})]})]}),(0,s.jsxs)("button",{onClick:T,disabled:_,className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[s.jsx(o.Z,{className:"w-4 h-4"}),_?"저장 중...":"저장"]})]})})}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"기본 정보"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"제목 *"}),s.jsx("input",{type:"text",value:M.title,onChange:e=>D("title",e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${A.title?"border-red-500":"border-gray-300"}`,placeholder:"포트폴리오 제목을 입력하세요"}),A.title&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:A.title})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"영문 제목"}),s.jsx("input",{type:"text",value:M.title_en,onChange:e=>D("title_en",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"English title"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"아랍어 제목"}),s.jsx("input",{type:"text",value:M.title_ar,onChange:e=>D("title_ar",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"العنوان بالعربية"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리 *"}),(0,s.jsxs)("select",{value:M.category,onChange:e=>D("category",e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${A.category?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"카테고리 선택"}),y.map(e=>s.jsx("option",{value:e,children:e},e))]}),A.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:A.category})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"공개 설정"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:M.is_public,onChange:e=>D("is_public",e.target.checked),className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"공개"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:M.featured,onChange:e=>D("featured",e.target.checked),className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:"추천 포트폴리오"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"설명"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"설명 *"}),s.jsx("textarea",{value:M.description,onChange:e=>D("description",e.target.value),rows:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent ${A.description?"border-red-500":"border-gray-300"}`,placeholder:"포트폴리오에 대한 설명을 입력하세요"}),A.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:A.description})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"영문 설명"}),s.jsx("textarea",{value:M.description_en,onChange:e=>D("description_en",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"English description"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"아랍어 설명"}),s.jsx("textarea",{value:M.description_ar,onChange:e=>D("description_ar",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"الوصف بالعربية"})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"태그"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:E,onChange:e=>P(e.target.value),onKeyPress:e=>"Enter"===e.key&&G(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"태그를 입력하고 Enter를 누르세요"}),s.jsx("button",{onClick:G,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"추가"})]}),I.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(e=>(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-red-100 text-red-800 rounded-full text-sm",children:[s.jsx(c.Z,{className:"w-3 h-3"}),e,s.jsx("button",{onClick:()=>O(e),className:"ml-1 text-red-600 hover:text-red-800",children:s.jsx(x.Z,{className:"w-3 h-3"})})]},e))})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"미디어 파일"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx(m.Z,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"이미지, 비디오, 문서 파일을 업로드하세요"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx",onChange:e=>{let t=e.target.files;t&&Array.from(t).forEach(e=>{let t={id:Math.random().toString(36).substr(2,9),file:e,type:e.type.startsWith("image/")?"image":e.type.startsWith("video/")?"video":"document",title:e.name,description:""};U(e=>[...e,t])})},className:"hidden",id:"media-upload"}),s.jsx("label",{htmlFor:"media-upload",className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors cursor-pointer",children:"파일 선택"})]}),q.length>0&&s.jsx("div",{className:"space-y-3",children:q.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-shrink-0",children:["image"===e.type&&s.jsx(p.Z,{className:"w-6 h-6 text-blue-500"}),"video"===e.type&&s.jsx(u.Z,{className:"w-6 h-6 text-purple-500"}),"document"===e.type&&s.jsx(g.Z,{className:"w-6 h-6 text-green-500"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.file.size/1024/1024).toFixed(2)," MB"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:e.title||"",onChange:t=>H(e.id,"title",t.target.value),placeholder:"제목",className:"px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-red-500"}),s.jsx("button",{onClick:()=>X(e.id),className:"p-1 text-red-600 hover:text-red-800",children:s.jsx(h.Z,{className:"w-4 h-4"})})]})]},e.id))})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"외부 링크"}),(0,s.jsxs)("button",{onClick:()=>{let e={id:Math.random().toString(36).substr(2,9),platform:"",url:"",title:""};z(t=>[...t,e])},className:"flex items-center gap-1 px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:[s.jsx(b.Z,{className:"w-4 h-4"}),"링크 추가"]})]}),$.length>0?s.jsx("div",{className:"space-y-3",children:$.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg",children:[s.jsx("input",{type:"text",value:e.platform,onChange:t=>R(e.id,"platform",t.target.value),placeholder:"플랫폼 (예: YouTube, Instagram)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),s.jsx("input",{type:"url",value:e.url,onChange:t=>R(e.id,"url",t.target.value),placeholder:"URL",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),s.jsx("input",{type:"text",value:e.title||"",onChange:t=>R(e.id,"title",t.target.value),placeholder:"제목 (선택사항)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"}),s.jsx("button",{onClick:()=>V(e.id),className:"p-2 text-red-600 hover:text-red-800",children:s.jsx(h.Z,{className:"w-4 h-4"})})]},e.id))}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"외부 링크가 없습니다"})]})]})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"인플루언서 프로필이 필요합니다"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"포트폴리오를 생성하려면 먼저 인플루언서 프로필을 완성해주세요."}),s.jsx("button",{onClick:()=>e.push("/profile"),className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"프로필 완성하기"})]})})}},6333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1215:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},3685:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},4019:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5417:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`C:\Users\mark\Documents\ME-IN\app\portfolios\create\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[809,583,46],()=>r(8883));module.exports=s})();