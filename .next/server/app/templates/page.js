(()=>{var e={};e.id=0,e.ids=[0],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},4052:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>m,routeModule:()=>x,tree:()=>o}),r(2099),r(3361),r(5866);var s=r(3191),a=r(8716),i=r(7922),l=r.n(i),n=r(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(t,c);let o=["",{children:["templates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2099)),"C:\\Users\\mark\\Documents\\ME-IN\\app\\templates\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3361)),"C:\\Users\\mark\\Documents\\ME-IN\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\mark\\Documents\\ME-IN\\app\\templates\\page.tsx"],d="/templates/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/templates/page",pathname:"/templates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5212:(e,t,r)=>{Promise.resolve().then(r.bind(r,9702))},9702:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var s=r(326),a=r(7577),i=r(5047),l=r(7939);let n=(0,l.eI)("https://jltnvoyjnzlswsmddojf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpsdG52b3lqbnpsc3dzbWRkb2pmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzODk5MjQsImV4cCI6MjA3MDk2NTkyNH0.5blt8JeShSgBA50l5bcE30Um1nGlYJAl685XBdVrqdg");class c{static async createTemplate(e,t){try{let{data:r,error:s}=await n.from("campaign_templates").insert({...e,created_by:t,usage_count:0,is_public:e.is_public??!1}).select().single();if(s)throw s;return r}catch(e){throw console.error("Error creating template:",e),e}}static async getTemplate(e){try{let{data:t,error:r}=await n.from("campaign_templates").select("*").eq("id",e).single();if(r)throw r;return t}catch(e){throw console.error("Error fetching template:",e),e}}static async getMyTemplates(e){try{let{data:t,error:r}=await n.from("campaign_templates").select("*").eq("created_by",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(e){throw console.error("Error fetching my templates:",e),e}}static async getPublicTemplates(e){try{let t=n.from("campaign_templates").select("*").eq("is_public",!0).order("usage_count",{ascending:!1});e&&(t=t.eq("category",e));let{data:r,error:s}=await t;if(s)throw s;return r||[]}catch(e){throw console.error("Error fetching public templates:",e),e}}static async getTemplatesByCategory(e){try{let{data:t,error:r}=await n.from("campaign_templates").select("*").eq("category",e).eq("is_public",!0).order("usage_count",{ascending:!1});if(r)throw r;return t||[]}catch(e){throw console.error("Error fetching templates by category:",e),e}}static async updateTemplate(e,t){try{let{data:r,error:s}=await n.from("campaign_templates").update(t).eq("id",e).select().single();if(s)throw s;return r}catch(e){throw console.error("Error updating template:",e),e}}static async deleteTemplate(e,t){try{let{error:r}=await n.from("campaign_templates").delete().eq("id",e).eq("created_by",t);if(r)throw r}catch(e){throw console.error("Error deleting template:",e),e}}static async incrementUsageCount(e){try{let{error:t}=await n.from("campaign_templates").update({usage_count:n.rpc("increment")}).eq("id",e);if(t)throw t}catch(e){throw console.error("Error incrementing usage count:",e),e}}static generateCampaignFromTemplate(e,t){let{template_data:r}=e,s=(e,t)=>e.replace(/\{\{(\w+)\}\}/g,(e,r)=>t[r]||e);return{title:s(r.title_template,t),title_en:r.title_template_en?s(r.title_template_en,t):void 0,title_ar:r.title_template_ar?s(r.title_template_ar,t):void 0,description:s(r.description_template,t),description_en:r.description_template_en?s(r.description_template_en,t):void 0,description_ar:r.description_template_ar?s(r.description_template_ar,t):void 0,category:e.category,budget_min:r.budget_min,budget_max:r.budget_max,target_languages:r.target_languages,target_regions:r.target_regions,min_followers:r.min_followers,content_requirements:s(r.content_requirements_template,t),content_requirements_en:r.content_requirements_template_en?s(r.content_requirements_template_en,t):void 0,content_requirements_ar:r.content_requirements_template_ar?s(r.content_requirements_template_ar,t):void 0,media_assets:r.media_requirements,start_date:new Date().toISOString(),end_date:new Date(Date.now()+864e5*r.duration_days).toISOString(),application_deadline:new Date(Date.now()+(r.duration_days-7)*864e5).toISOString()}}static async getPopularTemplates(e=10){try{let{data:t,error:r}=await n.from("campaign_templates").select("*").eq("is_public",!0).order("usage_count",{ascending:!1}).limit(e);if(r)throw r;return t||[]}catch(e){throw console.error("Error fetching popular templates:",e),e}}static async getRecentTemplates(e=10){try{let{data:t,error:r}=await n.from("campaign_templates").select("*").eq("is_public",!0).order("created_at",{ascending:!1}).limit(e);if(r)throw r;return t||[]}catch(e){throw console.error("Error fetching recent templates:",e),e}}static async searchTemplates(e,t){try{let r=n.from("campaign_templates").select("*").eq("is_public",!0).or(`name.ilike.%${e}%,description.ilike.%${e}%`);t&&(r=r.eq("category",t));let{data:s,error:a}=await r.order("usage_count",{ascending:!1});if(a)throw a;return s||[]}catch(e){throw console.error("Error searching templates:",e),e}}}var o=r(3855),m=r(6343),d=r(924),p=r(8307),x=r(1137),u=r(9389),h=r(2714),g=r(8998),y=r(9508),b=r(8091);(0,l.eI)("https://jltnvoyjnzlswsmddojf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpsdG52b3lqbnpsc3dzbWRkb2pmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzODk5MjQsImV4cCI6MjA3MDk2NTkyNH0.5blt8JeShSgBA50l5bcE30Um1nGlYJAl685XBdVrqdg");let j=["뷰티","패션","푸드","여행","테크","게임","라이프스타일","교육","비즈니스","엔터테인먼트"];function _(){let e=(0,i.useRouter)(),[t,r]=(0,a.useState)(null),[l,n]=(0,a.useState)([]),[h,g]=(0,a.useState)([]),[y,b]=(0,a.useState)(!0),[_,w]=(0,a.useState)(""),[v,N]=(0,a.useState)(""),[k,q]=(0,a.useState)("grid"),[I,Z]=(0,a.useState)("public"),C=async()=>{try{if("public"===I){let e=[];e=_?await c.searchTemplates(_,v||void 0):v?await c.getTemplatesByCategory(v):await c.getPublicTemplates(),n(e)}else{let e=await c.getMyTemplates(t.id);g(e)}}catch(e){console.error("Error loading templates:",e)}},M=t=>{c.incrementUsageCount(t.id),c.generateCampaignFromTemplate(t,{}),e.push(`/campaigns/create?template=${t.id}`)},E=t=>{e.push(`/templates/edit/${t}`)},S=async e=>{if(confirm("정말로 이 템플릿을 삭제하시겠습니까?"))try{await c.deleteTemplate(e,t.id),C()}catch(e){console.error("Error deleting template:",e),alert("템플릿 삭제 중 오류가 발생했습니다.")}},T=()=>{e.push("/templates/create")};if(y)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})});let P="public"===I?l:h;return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"캠페인 템플릿"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"미리 만들어진 캠페인 템플릿을 활용하세요"})]}),(0,s.jsxs)("button",{onClick:T,className:"flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:[s.jsx(o.Z,{className:"h-4 w-4"}),s.jsx("span",{children:"템플릿 만들기"})]})]})})}),s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("nav",{className:"flex space-x-8",children:[(0,s.jsxs)("button",{onClick:()=>Z("public"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"public"===I?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(m.Z,{className:"h-4 w-4 inline mr-2"}),"공개 템플릿"]}),(0,s.jsxs)("button",{onClick:()=>Z("my"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"my"===I?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(d.Z,{className:"h-4 w-4 inline mr-2"}),"내 템플릿"]})]})})}),s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(p.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"템플릿 검색...",value:_,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx(x.Z,{className:"h-4 w-4 text-gray-400"}),(0,s.jsxs)("select",{value:v,onChange:e=>N(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"모든 카테고리"}),j.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 border border-gray-300 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>q("grid"),className:`p-2 rounded ${"grid"===k?"bg-primary-100 text-primary-600":"text-gray-400"}`,children:s.jsx(d.Z,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>q("list"),className:`p-2 rounded ${"list"===k?"bg-primary-100 text-primary-600":"text-gray-400"}`,children:s.jsx(u.Z,{className:"h-4 w-4"})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:0===P.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[s.jsx(m.Z,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"public"===I?"템플릿이 없습니다":"내 템플릿이 없습니다"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"public"===I?"현재 검색 조건에 맞는 템플릿이 없습니다.":"첫 번째 템플릿을 만들어보세요!"}),"my"===I&&s.jsx("button",{onClick:T,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"템플릿 만들기"})]}):s.jsx("div",{className:"grid"===k?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:P.map(e=>s.jsx(f,{template:e,viewMode:k,isMyTemplate:"my"===I,onUse:M,onEdit:E,onDelete:S},e.id))})})]})}function f({template:e,viewMode:t,isMyTemplate:r,onUse:a,onEdit:i,onDelete:l}){return"list"===t?s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e.category}),e.is_public&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"공개"})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(h.Z,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[e.usage_count,"회 사용"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx(g.Z,{className:"h-4 w-4"}),s.jsx("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>a(e),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"사용하기"}),r&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>i(e.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(y.Z,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>l(e.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:s.jsx(b.Z,{className:"h-4 w-4"})})]})]})]})}):s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),s.jsx("div",{className:"flex items-center space-x-1",children:e.is_public&&s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"공개"})})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e.category}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[s.jsx(h.Z,{className:"h-4 w-4"}),s.jsx("span",{children:e.usage_count})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("button",{onClick:()=>a(e),className:"flex-1 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors mr-2",children:"사용하기"}),r&&(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>i(e.id),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(y.Z,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>l(e.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:s.jsx(b.Z,{className:"h-4 w-4"})})]})]})]})})}},6343:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},8998:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2714:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1137:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},924:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},9389:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},8307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9508:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(2881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},2099:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`C:\Users\mark\Documents\ME-IN\app\templates\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[809,583],()=>r(4052));module.exports=s})();