"use strict";exports.id=46,exports.ids=[46],exports.modules={3678:(r,e,t)=>{t.d(e,{M:()=>a});let s=(0,t(7939).eI)("https://jltnvoyjnzlswsmddojf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpsdG52b3lqbnpsc3dzbWRkb2pmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzODk5MjQsImV4cCI6MjA3MDk2NTkyNH0.5blt8JeShSgBA50l5bcE30Um1nGlYJAl685XBdVrqdg");class a{static async createPortfolio(r){try{let{data:e,error:t}=await s.from("portfolios").insert(r).select(`
          *,
          influencer_profiles (
            *,
            user_profiles (*)
          )
        `).single();if(t)throw t;return{success:!0,data:e,error:null}}catch(r){return console.error("Error creating portfolio:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async getPortfolio(r){try{let{data:e,error:t}=await s.from("portfolios").select(`
          *,
          influencer_profiles (
            *,
            user_profiles (*)
          ),
          portfolio_media (*),
          portfolio_comments (
            *,
            user_profiles (*)
          ),
          portfolio_likes (
            *,
            user_profiles (*)
          )
        `).eq("id",r).single();if(t)throw t;return{success:!0,data:e,error:null}}catch(r){return console.error("Error getting portfolio:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async getMyPortfolios(r){try{let{data:e,error:t}=await s.from("portfolios").select(`
          *,
          influencer_profiles (
            *,
            user_profiles (*)
          ),
          portfolio_media (*)
        `).eq("influencer_profile_id",r).order("created_at",{ascending:!1});if(t)throw t;return{success:!0,data:e,error:null}}catch(r){return console.error("Error getting my portfolios:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async getPublicPortfolios(r,e=20){try{let t=s.from("portfolios").select(`
          *,
          influencer_profiles (
            *,
            user_profiles (*)
          ),
          portfolio_media (*)
        `).eq("is_public",!0).order("created_at",{ascending:!1});r&&(t=t.eq("category",r)),e&&(t=t.limit(e));let{data:a,error:o}=await t;if(o)throw o;return{success:!0,data:a,error:null}}catch(r){return console.error("Error getting public portfolios:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async updatePortfolio(r,e){try{let{data:t,error:a}=await s.from("portfolios").update(e).eq("id",r).select(`
          *,
          influencer_profiles (
            *,
            user_profiles (*)
          )
        `).single();if(a)throw a;return{success:!0,data:t,error:null}}catch(r){return console.error("Error updating portfolio:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async deletePortfolio(r){try{let{error:e}=await s.from("portfolios").delete().eq("id",r);if(e)throw e;return{success:!0,data:void 0,error:null}}catch(r){return console.error("Error deleting portfolio:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async addPortfolioMedia(r){try{let{data:e,error:t}=await s.from("portfolio_media").insert(r).select().single();if(t)throw t;return{success:!0,data:e,error:null}}catch(r){return console.error("Error adding portfolio media:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async updatePortfolioMedia(r,e){try{let{data:t,error:a}=await s.from("portfolio_media").update(e).eq("id",r).select().single();if(a)throw a;return{success:!0,data:t,error:null}}catch(r){return console.error("Error updating portfolio media:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async deletePortfolioMedia(r){try{let{error:e}=await s.from("portfolio_media").delete().eq("id",r);if(e)throw e;return{success:!0,data:void 0,error:null}}catch(r){return console.error("Error deleting portfolio media:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async addPortfolioComment(r){try{let{data:e,error:t}=await s.from("portfolio_comments").insert(r).select(`
          *,
          user_profiles (*)
        `).single();if(t)throw t;return{success:!0,data:e,error:null}}catch(r){return console.error("Error adding portfolio comment:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async updatePortfolioComment(r,e){try{let{data:t,error:a}=await s.from("portfolio_comments").update(e).eq("id",r).select(`
          *,
          user_profiles (*)
        `).single();if(a)throw a;return{success:!0,data:t,error:null}}catch(r){return console.error("Error updating portfolio comment:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async deletePortfolioComment(r){try{let{error:e}=await s.from("portfolio_comments").delete().eq("id",r);if(e)throw e;return{success:!0,data:void 0,error:null}}catch(r){return console.error("Error deleting portfolio comment:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async togglePortfolioLike(r,e){try{let{data:t,error:a}=await s.from("portfolio_likes").select().eq("portfolio_id",r).eq("user_id",e).single();if(a&&"PGRST116"!==a.code)throw a;if(t){let{error:t}=await s.from("portfolio_likes").delete().eq("portfolio_id",r).eq("user_id",e);if(t)throw t;return await s.from("portfolios").update({like_count:s.rpc("decrement",{x:1})}).eq("id",r),{success:!0,data:{liked:!1},error:null}}{let{error:t}=await s.from("portfolio_likes").insert({portfolio_id:r,user_id:e});if(t)throw t;return await s.from("portfolios").update({like_count:s.rpc("increment",{x:1})}).eq("id",r),{success:!0,data:{liked:!0},error:null}}}catch(r){return console.error("Error toggling portfolio like:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async incrementViewCount(r){try{let{error:e}=await s.from("portfolios").update({view_count:s.rpc("increment",{x:1})}).eq("id",r);if(e)throw e;return{success:!0,data:void 0,error:null}}catch(r){return console.error("Error incrementing view count:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async searchPortfolios(r,e){try{let t=s.from("portfolios").select(`
          *,
          influencer_profiles (
            *,
            user_profiles (*)
          ),
          portfolio_media (*)
        `).eq("is_public",!0).or(`title.ilike.%${r}%,description.ilike.%${r}%,tags.cs.{${r}}`);e&&(t=t.eq("category",e));let{data:a,error:o}=await t.order("created_at",{ascending:!1});if(o)throw o;return{success:!0,data:a,error:null}}catch(r){return console.error("Error searching portfolios:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async getPopularPortfolios(r=10){try{let{data:e,error:t}=await s.from("portfolios").select(`
          *,
          influencer_profiles (
            *,
            user_profiles (*)
          ),
          portfolio_media (*)
        `).eq("is_public",!0).order("like_count",{ascending:!1}).order("view_count",{ascending:!1}).limit(r);if(t)throw t;return{success:!0,data:e,error:null}}catch(r){return console.error("Error getting popular portfolios:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}static async getPortfoliosByCategory(r,e=20){try{let{data:t,error:a}=await s.from("portfolios").select(`
          *,
          influencer_profiles (
            *,
            user_profiles (*)
          ),
          portfolio_media (*)
        `).eq("is_public",!0).eq("category",r).order("created_at",{ascending:!1}).limit(e);if(a)throw a;return{success:!0,data:t,error:null}}catch(r){return console.error("Error getting portfolios by category:",r),{success:!1,data:null,error:r instanceof Error?r.message:"Unknown error"}}}}},2437:(r,e,t)=>{t.d(e,{H:()=>a});var s=t(5442);class a{static async createUserProfile(r){try{let{data:{user:e}}=await s.O.auth.getUser();if(!e)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:t,error:a}=await s.O.from("user_profiles").insert(r).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(r){return{data:null,error:"프로필 생성 중 오류가 발생했습니다.",success:!1}}}static async getUserProfile(){try{let{data:{user:r}}=await s.O.auth.getUser();if(!r)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:e,error:t}=await s.O.from("user_profiles").select("*").eq("user_id",r.id).single();if(t)return{data:null,error:t.message,success:!1};return{data:e,error:null,success:!0}}catch(r){return{data:null,error:"프로필 조회 중 오류가 발생했습니다.",success:!1}}}static async updateUserProfile(r){try{let{data:{user:e}}=await s.O.auth.getUser();if(!e)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:t,error:a}=await s.O.from("user_profiles").update(r).eq("user_id",e.id).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(r){return{data:null,error:"프로필 업데이트 중 오류가 발생했습니다.",success:!1}}}static async createBrandProfile(r){try{let e=await this.getUserProfile();if(!e.success||!e.data)return{data:null,error:"사용자 프로필을 먼저 생성해주세요.",success:!1};let{data:t,error:a}=await s.O.from("brand_profiles").insert({user_profile_id:e.data.id,...r}).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(r){return{data:null,error:"브랜드 프로필 생성 중 오류가 발생했습니다.",success:!1}}}static async getBrandProfile(){try{let r=await this.getUserProfile();if(!r.success||!r.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:e,error:t}=await s.O.from("brand_profiles").select("*").eq("user_profile_id",r.data.id).single();if(t)return{data:null,error:t.message,success:!1};return{data:e,error:null,success:!0}}catch(r){return{data:null,error:"브랜드 프로필 조회 중 오류가 발생했습니다.",success:!1}}}static async updateBrandProfile(r){try{let e=await this.getUserProfile();if(!e.success||!e.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:t,error:a}=await s.O.from("brand_profiles").update(r).eq("user_profile_id",e.data.id).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(r){return{data:null,error:"브랜드 프로필 업데이트 중 오류가 발생했습니다.",success:!1}}}static async createInfluencerProfile(r){try{let e=await this.getUserProfile();if(!e.success||!e.data)return{data:null,error:"사용자 프로필을 먼저 생성해주세요.",success:!1};let{data:t,error:a}=await s.O.from("influencer_profiles").insert(r).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(r){return{data:null,error:"인플루언서 프로필 생성 중 오류가 발생했습니다.",success:!1}}}static async getInfluencerProfile(){try{let r=await this.getUserProfile();if(!r.success||!r.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:e,error:t}=await s.O.from("influencer_profiles").select("*").eq("user_profile_id",r.data.id).single();if(t)return{data:null,error:t.message,success:!1};return{data:e,error:null,success:!0}}catch(r){return{data:null,error:"인플루언서 프로필 조회 중 오류가 발생했습니다.",success:!1}}}static async updateInfluencerProfile(r){try{let e=await this.getUserProfile();if(!e.success||!e.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:t,error:a}=await s.O.from("influencer_profiles").update(r).eq("user_profile_id",e.data.id).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(r){return{data:null,error:"인플루언서 프로필 업데이트 중 오류가 발생했습니다.",success:!1}}}static async addSocialAccount(r){try{let e=await this.getInfluencerProfile();if(!e.success||!e.data)return{data:null,error:"인플루언서 프로필을 먼저 생성해주세요.",success:!1};let{data:t,error:a}=await s.O.from("social_accounts").insert({influencer_profile_id:e.data.id,...r}).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(r){return{data:null,error:"소셜 계정 추가 중 오류가 발생했습니다.",success:!1}}}static async getSocialAccounts(){try{let r=await this.getInfluencerProfile();if(!r.success||!r.data)return{data:null,error:"인플루언서 프로필을 찾을 수 없습니다.",success:!1};let{data:e,error:t}=await s.O.from("social_accounts").select("*").eq("influencer_profile_id",r.data.id);if(t)return{data:null,error:t.message,success:!1};return{data:e,error:null,success:!0}}catch(r){return{data:null,error:"소셜 계정 조회 중 오류가 발생했습니다.",success:!1}}}static async updateSocialAccount(r,e){try{let{data:t,error:a}=await s.O.from("social_accounts").update(e).eq("id",r).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(r){return{data:null,error:"소셜 계정 업데이트 중 오류가 발생했습니다.",success:!1}}}static async deleteSocialAccount(r){try{let{error:e}=await s.O.from("social_accounts").delete().eq("id",r);if(e)return{data:null,error:e.message,success:!1};return{data:null,error:null,success:!0}}catch(r){return{data:null,error:"소셜 계정 삭제 중 오류가 발생했습니다.",success:!1}}}static async getCompleteProfile(){try{let r,e,t;let s=await this.getUserProfile();if(!s.success||!s.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let a=s.data;if("brand"===a.user_type){let e=await this.getBrandProfile();e.success&&(r=e.data||void 0)}else if("influencer"===a.user_type){let r=await this.getInfluencerProfile();r.success&&(e=r.data||void 0);let s=await this.getSocialAccounts();s.success&&(t=s.data||void 0)}return{data:{userProfile:a,brandProfile:r,influencerProfile:e,socialAccounts:t},error:null,success:!0}}catch(r){return{data:null,error:"프로필 조회 중 오류가 발생했습니다.",success:!1}}}}},1896:(r,e,t)=>{t.d(e,{Z:()=>s});let s=(0,t(2881).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},6283:(r,e,t)=>{t.d(e,{Z:()=>s});let s=(0,t(2881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},765:(r,e,t)=>{t.d(e,{Z:()=>s});let s=(0,t(2881).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},9758:(r,e,t)=>{t.d(e,{Z:()=>s});let s=(0,t(2881).Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])}};