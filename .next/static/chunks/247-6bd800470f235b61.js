"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[247],{6867:function(e,r,t){t.d(r,{H:function(){return a}});var s=t(2141);class a{static async createUserProfile(e){try{let{data:{user:r}}=await s.O.auth.getUser();if(!r)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:t,error:a}=await s.O.from("user_profiles").insert(e).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(e){return{data:null,error:"프로필 생성 중 오류가 발생했습니다.",success:!1}}}static async getUserProfile(){try{let{data:{user:e}}=await s.O.auth.getUser();if(!e)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:r,error:t}=await s.O.from("user_profiles").select("*").eq("user_id",e.id).single();if(t)return{data:null,error:t.message,success:!1};return{data:r,error:null,success:!0}}catch(e){return{data:null,error:"프로필 조회 중 오류가 발생했습니다.",success:!1}}}static async updateUserProfile(e){try{let{data:{user:r}}=await s.O.auth.getUser();if(!r)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:t,error:a}=await s.O.from("user_profiles").update(e).eq("user_id",r.id).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(e){return{data:null,error:"프로필 업데이트 중 오류가 발생했습니다.",success:!1}}}static async createBrandProfile(e){try{let r=await this.getUserProfile();if(!r.success||!r.data)return{data:null,error:"사용자 프로필을 먼저 생성해주세요.",success:!1};let{data:t,error:a}=await s.O.from("brand_profiles").insert({user_profile_id:r.data.id,...e}).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(e){return{data:null,error:"브랜드 프로필 생성 중 오류가 발생했습니다.",success:!1}}}static async getBrandProfile(){try{let e=await this.getUserProfile();if(!e.success||!e.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:r,error:t}=await s.O.from("brand_profiles").select("*").eq("user_profile_id",e.data.id).single();if(t)return{data:null,error:t.message,success:!1};return{data:r,error:null,success:!0}}catch(e){return{data:null,error:"브랜드 프로필 조회 중 오류가 발생했습니다.",success:!1}}}static async updateBrandProfile(e){try{let r=await this.getUserProfile();if(!r.success||!r.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:t,error:a}=await s.O.from("brand_profiles").update(e).eq("user_profile_id",r.data.id).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(e){return{data:null,error:"브랜드 프로필 업데이트 중 오류가 발생했습니다.",success:!1}}}static async createInfluencerProfile(e){try{let r=await this.getUserProfile();if(!r.success||!r.data)return{data:null,error:"사용자 프로필을 먼저 생성해주세요.",success:!1};let{data:t,error:a}=await s.O.from("influencer_profiles").insert(e).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(e){return{data:null,error:"인플루언서 프로필 생성 중 오류가 발생했습니다.",success:!1}}}static async getInfluencerProfile(){try{let e=await this.getUserProfile();if(!e.success||!e.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:r,error:t}=await s.O.from("influencer_profiles").select("*").eq("user_profile_id",e.data.id).single();if(t)return{data:null,error:t.message,success:!1};return{data:r,error:null,success:!0}}catch(e){return{data:null,error:"인플루언서 프로필 조회 중 오류가 발생했습니다.",success:!1}}}static async updateInfluencerProfile(e){try{let r=await this.getUserProfile();if(!r.success||!r.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let{data:t,error:a}=await s.O.from("influencer_profiles").update(e).eq("user_profile_id",r.data.id).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(e){return{data:null,error:"인플루언서 프로필 업데이트 중 오류가 발생했습니다.",success:!1}}}static async addSocialAccount(e){try{let r=await this.getInfluencerProfile();if(!r.success||!r.data)return{data:null,error:"인플루언서 프로필을 먼저 생성해주세요.",success:!1};let{data:t,error:a}=await s.O.from("social_accounts").insert({influencer_profile_id:r.data.id,...e}).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(e){return{data:null,error:"소셜 계정 추가 중 오류가 발생했습니다.",success:!1}}}static async getSocialAccounts(){try{let e=await this.getInfluencerProfile();if(!e.success||!e.data)return{data:null,error:"인플루언서 프로필을 찾을 수 없습니다.",success:!1};let{data:r,error:t}=await s.O.from("social_accounts").select("*").eq("influencer_profile_id",e.data.id);if(t)return{data:null,error:t.message,success:!1};return{data:r,error:null,success:!0}}catch(e){return{data:null,error:"소셜 계정 조회 중 오류가 발생했습니다.",success:!1}}}static async updateSocialAccount(e,r){try{let{data:t,error:a}=await s.O.from("social_accounts").update(r).eq("id",e).select().single();if(a)return{data:null,error:a.message,success:!1};return{data:t,error:null,success:!0}}catch(e){return{data:null,error:"소셜 계정 업데이트 중 오류가 발생했습니다.",success:!1}}}static async deleteSocialAccount(e){try{let{error:r}=await s.O.from("social_accounts").delete().eq("id",e);if(r)return{data:null,error:r.message,success:!1};return{data:null,error:null,success:!0}}catch(e){return{data:null,error:"소셜 계정 삭제 중 오류가 발생했습니다.",success:!1}}}static async getCompleteProfile(){try{let e,r,t;let s=await this.getUserProfile();if(!s.success||!s.data)return{data:null,error:"사용자 프로필을 찾을 수 없습니다.",success:!1};let a=s.data;if("brand"===a.user_type){let r=await this.getBrandProfile();r.success&&(e=r.data||void 0)}else if("influencer"===a.user_type){let e=await this.getInfluencerProfile();e.success&&(r=e.data||void 0);let s=await this.getSocialAccounts();s.success&&(t=s.data||void 0)}return{data:{userProfile:a,brandProfile:e,influencerProfile:r,socialAccounts:t},error:null,success:!0}}catch(e){return{data:null,error:"프로필 조회 중 오류가 발생했습니다.",success:!1}}}}},2141:function(e,r,t){t.d(r,{O:function(){return s}});let s=(0,t(8439).eI)("https://jltnvoyjnzlswsmddojf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpsdG52b3lqbnpsc3dzbWRkb2pmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzODk5MjQsImV4cCI6MjA3MDk2NTkyNH0.5blt8JeShSgBA50l5bcE30Um1nGlYJAl685XBdVrqdg")},9205:function(e,r,t){t.d(r,{Z:function(){return n}});var s=t(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ")};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:d,...f}=e;return(0,s.createElement)("svg",{ref:r,...u,width:a,height:a,stroke:t,strokeWidth:n?24*Number(l)/Number(a):l,className:c("lucide",i),...f},[...d.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(o)?o:[o]])}),n=(e,r)=>{let t=(0,s.forwardRef)((t,u)=>{let{className:n,...i}=t;return(0,s.createElement)(l,{ref:u,iconNode:r,className:c("lucide-".concat(a(e)),n),...i})});return t.displayName="".concat(e),t}},3229:function(e,r,t){t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9376:function(e,r,t){var s=t(5475);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})}}]);