"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[862],{344:function(e,r,a){let t,s;a.d(r,{z:function(){return d}});var n=a(7437),l=a(2265);let i=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,u=function(){for(var e,r,a=0,t="";a<arguments.length;)(e=arguments[a++])&&(r=function e(r){var a,t,s="";if("string"==typeof r||"number"==typeof r)s+=r;else if("object"==typeof r){if(Array.isArray(r))for(a=0;a<r.length;a++)r[a]&&(t=e(r[a]))&&(s&&(s+=" "),s+=t);else for(a in r)r[a]&&(s&&(s+=" "),s+=a)}return s}(e))&&(t&&(t+=" "),t+=r);return t},o=(t="inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",s={variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-gray-300 bg-white hover:bg-gray-50 text-gray-700",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"underline-offset-4 hover:underline text-primary-600",accent:"bg-accent-500 text-white hover:bg-accent-600"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",xl:"h-12 px-10 rounded-lg"}},defaultVariants:{variant:"default",size:"default"}},e=>{var r;if((null==s?void 0:s.variants)==null)return u(t,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:a,defaultVariants:n}=s,l=Object.keys(a).map(r=>{let t=null==e?void 0:e[r],s=null==n?void 0:n[r];if(null===t)return null;let l=i(t)||i(s);return a[r][l]}),o=e&&Object.entries(e).reduce((e,r)=>{let[a,t]=r;return void 0===t||(e[a]=t),e},{});return u(t,l,null==s?void 0:null===(r=s.compoundVariants)||void 0===r?void 0:r.reduce((e,r)=>{let{class:a,className:t,...s}=r;return Object.entries(s).every(e=>{let[r,a]=e;return Array.isArray(a)?a.includes({...n,...o}[r]):({...n,...o})[r]===a})?[...e,a,t]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),d=l.forwardRef((e,r)=>{let{className:a,variant:t,size:s,...l}=e;return(0,n.jsx)("button",{className:function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return function(){for(var e,r,a=0,t="",s=arguments.length;a<s;a++)(e=arguments[a])&&(r=function e(r){var a,t,s="";if("string"==typeof r||"number"==typeof r)s+=r;else if("object"==typeof r){if(Array.isArray(r)){var n=r.length;for(a=0;a<n;a++)r[a]&&(t=e(r[a]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t)}return s}(e))&&(t&&(t+=" "),t+=r);return t}(r)}(o({variant:t,size:s,className:a})),ref:r,...l})});d.displayName="Button"},4537:function(e,r,a){a.d(r,{U:function(){return s}});var t=a(2141);class s{static async createCampaign(e){try{var r;let{data:{user:a}}=await t.O.auth.getUser();if(!a)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:s,error:n}=await t.O.from("brand_profiles").select("id").eq("user_profile_id",null===(r=(await t.O.from("user_profiles").select("id").eq("user_id",a.id).single()).data)||void 0===r?void 0:r.id).single();if(n||!s)return{data:null,error:"브랜드 프로필을 먼저 생성해주세요.",success:!1};let{data:l,error:i}=await t.O.from("campaigns").insert({brand_profile_id:s.id,...e}).select().single();if(i)return{data:null,error:i.message,success:!1};return{data:l,error:null,success:!0}}catch(e){return{data:null,error:"캠페인 생성 중 오류가 발생했습니다.",success:!1}}}static async getCampaign(e){try{let{data:r,error:a}=await t.O.from("campaigns").select("\n          *,\n          brand_profiles (\n            *,\n            user_profiles (\n              display_name,\n              avatar_url\n            )\n          )\n        ").eq("id",e).single();if(a)return{data:null,error:a.message,success:!1};return{data:r,error:null,success:!0}}catch(e){return{data:null,error:"캠페인 조회 중 오류가 발생했습니다.",success:!1}}}static async getMyCampaigns(){try{var e;let{data:{user:r}}=await t.O.auth.getUser();if(!r)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:a,error:s}=await t.O.from("campaigns").select("\n          *,\n          brand_profiles (\n            *,\n            user_profiles (\n              display_name,\n              avatar_url\n            )\n          )\n        ").eq("brand_profiles.user_profile_id",null===(e=(await t.O.from("user_profiles").select("id").eq("user_id",r.id).single()).data)||void 0===e?void 0:e.id).order("created_at",{ascending:!1});if(s)return{data:null,error:s.message,success:!1};return{data:a,error:null,success:!0}}catch(e){return{data:null,error:"캠페인 목록 조회 중 오류가 발생했습니다.",success:!1}}}static async getActiveCampaigns(e){try{var r,a;let s=t.O.from("campaigns").select("\n          *,\n          brand_profiles (\n            *,\n            user_profiles (\n              display_name,\n              avatar_url\n            )\n          )\n        ").eq("status","active").order("created_at",{ascending:!1});(null==e?void 0:e.category)&&(s=s.eq("category",e.category)),(null==e?void 0:e.minBudget)&&(s=s.gte("budget_min",e.minBudget)),(null==e?void 0:e.maxBudget)&&(s=s.lte("budget_max",e.maxBudget)),(null==e?void 0:null===(r=e.targetLanguages)||void 0===r?void 0:r.length)&&(s=s.overlaps("target_languages",e.targetLanguages)),(null==e?void 0:null===(a=e.targetRegions)||void 0===a?void 0:a.length)&&(s=s.overlaps("target_regions",e.targetRegions)),(null==e?void 0:e.minFollowers)&&(s=s.gte("min_followers",e.minFollowers));let{data:n,error:l}=await s;if(l)return{data:null,error:l.message,success:!1};return{data:n,error:null,success:!0}}catch(e){return{data:null,error:"활성 캠페인 조회 중 오류가 발생했습니다.",success:!1}}}static async updateCampaign(e,r){try{var a;let{data:{user:s}}=await t.O.auth.getUser();if(!s)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:n,error:l}=await t.O.from("campaigns").select("brand_profile_id").eq("id",e).single();if(l)return{data:null,error:"캠페인을 찾을 수 없습니다.",success:!1};let{data:i,error:u}=await t.O.from("brand_profiles").select("id").eq("id",n.brand_profile_id).eq("user_profile_id",null===(a=(await t.O.from("user_profiles").select("id").eq("user_id",s.id).single()).data)||void 0===a?void 0:a.id).single();if(u||!i)return{data:null,error:"캠페인을 수정할 권한이 없습니다.",success:!1};let{data:o,error:d}=await t.O.from("campaigns").update(r).eq("id",e).select().single();if(d)return{data:null,error:d.message,success:!1};return{data:o,error:null,success:!0}}catch(e){return{data:null,error:"캠페인 업데이트 중 오류가 발생했습니다.",success:!1}}}static async updateCampaignStatus(e,r){try{var a;let{data:{user:s}}=await t.O.auth.getUser();if(!s)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:n,error:l}=await t.O.from("campaigns").select("brand_profile_id").eq("id",e).single();if(l)return{data:null,error:"캠페인을 찾을 수 없습니다.",success:!1};let{data:i,error:u}=await t.O.from("brand_profiles").select("id").eq("id",n.brand_profile_id).eq("user_profile_id",null===(a=(await t.O.from("user_profiles").select("id").eq("user_id",s.id).single()).data)||void 0===a?void 0:a.id).single();if(u||!i)return{data:null,error:"캠페인을 수정할 권한이 없습니다.",success:!1};let{data:o,error:d}=await t.O.from("campaigns").update({status:r}).eq("id",e).select().single();if(d)return{data:null,error:d.message,success:!1};return{data:o,error:null,success:!0}}catch(e){return{data:null,error:"캠페인 상태 변경 중 오류가 발생했습니다.",success:!1}}}static async deleteCampaign(e){try{var r;let{data:{user:a}}=await t.O.auth.getUser();if(!a)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:s,error:n}=await t.O.from("campaigns").select("brand_profile_id").eq("id",e).single();if(n)return{data:null,error:"캠페인을 찾을 수 없습니다.",success:!1};let{data:l,error:i}=await t.O.from("brand_profiles").select("id").eq("id",s.brand_profile_id).eq("user_profile_id",null===(r=(await t.O.from("user_profiles").select("id").eq("user_id",a.id).single()).data)||void 0===r?void 0:r.id).single();if(i||!l)return{data:null,error:"캠페인을 삭제할 권한이 없습니다.",success:!1};let{error:u}=await t.O.from("campaigns").delete().eq("id",e);if(u)return{data:null,error:u.message,success:!1};return{data:null,error:null,success:!0}}catch(e){return{data:null,error:"캠페인 삭제 중 오류가 발생했습니다.",success:!1}}}static async getCampaignStats(e){try{var r;let{data:{user:a}}=await t.O.auth.getUser();if(!a)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:s,error:n}=await t.O.from("campaigns").select("brand_profile_id").eq("id",e).single();if(n)return{data:null,error:"캠페인을 찾을 수 없습니다.",success:!1};let{data:l,error:i}=await t.O.from("brand_profiles").select("id").eq("id",s.brand_profile_id).eq("user_profile_id",null===(r=(await t.O.from("user_profiles").select("id").eq("user_id",a.id).single()).data)||void 0===r?void 0:r.id).single();if(i||!l)return{data:null,error:"캠페인 통계를 조회할 권한이 없습니다.",success:!1};let{data:u,error:o}=await t.O.from("applications").select("status, proposed_budget").eq("campaign_id",e);if(o)return{data:null,error:o.message,success:!1};return{data:{totalApplications:u.length,pendingApplications:u.filter(e=>"pending"===e.status).length,approvedApplications:u.filter(e=>"approved"===e.status).length,rejectedApplications:u.filter(e=>"rejected"===e.status).length,avgProposedBudget:u.length>0?u.reduce((e,r)=>e+(r.proposed_budget||0),0)/u.length:0},error:null,success:!0}}catch(e){return{data:null,error:"캠페인 통계 조회 중 오류가 발생했습니다.",success:!1}}}static async getRecommendedCampaigns(){try{var e,r,a;let{data:{user:s}}=await t.O.auth.getUser();if(!s)return{data:null,error:"사용자가 인증되지 않았습니다.",success:!1};let{data:n,error:l}=await t.O.from("influencer_profiles").select("\n          *,\n          user_profiles (\n            languages,\n            location\n          )\n        ").eq("user_profile_id",null===(e=(await t.O.from("user_profiles").select("id").eq("user_id",s.id).single()).data)||void 0===e?void 0:e.id).single();if(l||!n)return{data:null,error:"인플루언서 프로필을 찾을 수 없습니다.",success:!1};let i=t.O.from("campaigns").select("\n          *,\n          brand_profiles (\n            *,\n            user_profiles (\n              display_name,\n              avatar_url\n            )\n          )\n        ").eq("status","active").lte("min_followers",n.total_followers).order("created_at",{ascending:!1});(null===(a=n.user_profiles)||void 0===a?void 0:null===(r=a.languages)||void 0===r?void 0:r.length)&&(i=i.overlaps("target_languages",n.user_profiles.languages));let{data:u,error:o}=await i;if(o)return{data:null,error:o.message,success:!1};return{data:(null==u?void 0:u.map(e=>{var r;let a=0;return(null===(r=n.content_categories)||void 0===r?void 0:r.some(r=>{var a;return null===(a=e.category)||void 0===a?void 0:a.toLowerCase().includes(r.toLowerCase())}))&&(a+=10),{...e,score:a}}).sort((e,r)=>r.score-e.score))||[],error:null,success:!0}}catch(e){return{data:null,error:"추천 캠페인 조회 중 오류가 발생했습니다.",success:!1}}}}},2660:function(e,r,a){a.d(r,{Z:function(){return t}});let t=(0,a(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5252:function(e,r,a){a.d(r,{Z:function(){return t}});let t=(0,a(9205).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5805:function(e,r,a){a.d(r,{Z:function(){return t}});let t=(0,a(9205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}}]);