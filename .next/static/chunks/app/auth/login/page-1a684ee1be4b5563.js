(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{8804:function(e,t,s){Promise.resolve().then(s.bind(s,6873))},6873:function(e,t,s){"use strict";s.r(t);var r=s(7437),a=s(2265),n=s(7648),l=s(9376),u=s(9370);t.default=()=>{let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),[o,b]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),{signIn:x}=(0,u.K)(),f=(0,l.useRouter)(),p=async t=>{t.preventDefault(),c(!0),b(""),m("");try{let{error:t}=await x(e,s);t?b(t.message):(m("로그인 성공! 리다이렉트 중..."),setTimeout(()=>{f.push("/dashboard")},1e3))}catch(e){b("로그인 중 오류가 발생했습니다.")}finally{c(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full mx-4",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"로그인"}),(0,r.jsx)("p",{className:"text-gray-600",children:"ME-IN 플랫폼에 오신 것을 환영합니다"})]}),o&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:o}),h&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:h}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이메일"}),(0,r.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),(0,r.jsx)("input",{type:"password",value:s,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"••••••••",required:!0})]}),(0,r.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"로그인 중...":"로그인"})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)(n.default,{href:"/auth/register",className:"text-blue-600 hover:text-blue-700",children:"계정이 없으신가요? 회원가입"})}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)(n.default,{href:"/",className:"text-blue-600 hover:text-blue-700",children:"← 홈으로 돌아가기"})})]})})}},9370:function(e,t,s){"use strict";s.d(t,{K:function(){return i},SupabaseAuthProvider:function(){return u}});var r=s(7437),a=s(2265),n=s(2141);let l=(0,a.createContext)(void 0);function u(e){let{children:t}=e,[s,u]=(0,a.useState)(null),[i,d]=(0,a.useState)(null),[c,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await n.O.auth.getSession();d(t),u(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null),o(!1)})();let{data:{subscription:e}}=n.O.auth.onAuthStateChange(async(e,t)=>{var s;d(t),u(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),o(!1)});return()=>e.unsubscribe()},[]);let b=async(e,t,s)=>{let{error:r}=await n.O.auth.signUp({email:e,password:t,options:{data:s}});return{error:r}},h=async(e,t)=>{let{error:s}=await n.O.auth.signInWithPassword({email:e,password:t});return{error:s}},m=async()=>{await n.O.auth.signOut()},x=async e=>{let{error:t}=await n.O.auth.updateUser({data:e});return{error:t}};return(0,r.jsx)(l.Provider,{value:{user:s,session:i,loading:c,signUp:b,signIn:h,signOut:m,updateProfile:x},children:t})}function i(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}},2141:function(e,t,s){"use strict";s.d(t,{O:function(){return r}});let r=(0,s(8439).eI)("https://jltnvoyjnzlswsmddojf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpsdG52b3lqbnpsc3dzbWRkb2pmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzODk5MjQsImV4cCI6MjA3MDk2NTkyNH0.5blt8JeShSgBA50l5bcE30Um1nGlYJAl685XBdVrqdg")}},function(e){e.O(0,[439,448,971,117,744],function(){return e(e.s=8804)}),_N_E=e.O()}]);