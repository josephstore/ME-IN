(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{4719:function(e,t,s){Promise.resolve().then(s.bind(s,1998))},1998:function(e,t,s){"use strict";s.r(t);var r=s(7437),n=s(2265),a=s(7648),l=s(9376),u=s(9370);t.default=()=>{let[e,t]=(0,n.useState)({email:"",password:"",confirmPassword:"",name:"",userType:"brand"}),[s,i]=(0,n.useState)(!1),[o,d]=(0,n.useState)(""),[c,m]=(0,n.useState)(""),{signUp:b}=(0,u.K)(),h=(0,l.useRouter)(),p=s=>{t({...e,[s.target.name]:s.target.value})},x=async t=>{if(t.preventDefault(),i(!0),d(""),m(""),e.password!==e.confirmPassword){d("비밀번호가 일치하지 않습니다."),i(!1);return}if(e.password.length<6){d("비밀번호는 최소 6자 이상이어야 합니다."),i(!1);return}try{let{error:t}=await b(e.email,e.password,{name:e.name,user_type:e.userType,language:["ko","en"],timezone:Intl.DateTimeFormat().resolvedOptions().timeZone});t?d(t.message):(m("회원가입이 완료되었습니다! 이메일을 확인해주세요."),setTimeout(()=>{h.push("/auth/login")},3e3))}catch(e){d("회원가입 중 오류가 발생했습니다.")}finally{i(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center py-8",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full mx-4",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"회원가입"}),(0,r.jsx)("p",{className:"text-gray-600",children:"ME-IN 플랫폼에 가입하세요"})]}),o&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:o}),c&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:c}),(0,r.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이름"}),(0,r.jsx)("input",{type:"text",name:"name",value:e.name,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"홍길동",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"사용자 유형"}),(0,r.jsxs)("select",{name:"userType",value:e.userType,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,r.jsx)("option",{value:"brand",children:"브랜드"}),(0,r.jsx)("option",{value:"influencer",children:"인플루언서"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이메일"}),(0,r.jsx)("input",{type:"email",name:"email",value:e.email,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"your@email.com",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),(0,r.jsx)("input",{type:"password",name:"password",value:e.password,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"••••••••",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호 확인"}),(0,r.jsx)("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"••••••••",required:!0})]}),(0,r.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"가입 중...":"회원가입"})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)(a.default,{href:"/auth/login",className:"text-blue-600 hover:text-blue-700",children:"이미 계정이 있으신가요? 로그인"})}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)(a.default,{href:"/",className:"text-blue-600 hover:text-blue-700",children:"← 홈으로 돌아가기"})})]})})}},9370:function(e,t,s){"use strict";s.d(t,{K:function(){return i},SupabaseAuthProvider:function(){return u}});var r=s(7437),n=s(2265),a=s(2141);let l=(0,n.createContext)(void 0);function u(e){let{children:t}=e,[s,u]=(0,n.useState)(null),[i,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await a.O.auth.getSession();o(t),u(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null),c(!1)})();let{data:{subscription:e}}=a.O.auth.onAuthStateChange(async(e,t)=>{var s;o(t),u(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),c(!1)});return()=>e.unsubscribe()},[]);let m=async(e,t,s)=>{let{error:r}=await a.O.auth.signUp({email:e,password:t,options:{data:s}});return{error:r}},b=async(e,t)=>{let{error:s}=await a.O.auth.signInWithPassword({email:e,password:t});return{error:s}},h=async()=>{await a.O.auth.signOut()},p=async e=>{let{error:t}=await a.O.auth.updateUser({data:e});return{error:t}};return(0,r.jsx)(l.Provider,{value:{user:s,session:i,loading:d,signUp:m,signIn:b,signOut:h,updateProfile:p},children:t})}function i(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}},2141:function(e,t,s){"use strict";s.d(t,{O:function(){return r}});let r=(0,s(8439).eI)("https://jltnvoyjnzlswsmddojf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpsdG52b3lqbnpsc3dzbWRkb2pmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzODk5MjQsImV4cCI6MjA3MDk2NTkyNH0.5blt8JeShSgBA50l5bcE30Um1nGlYJAl685XBdVrqdg")}},function(e){e.O(0,[439,448,971,117,744],function(){return e(e.s=4719)}),_N_E=e.O()}]);